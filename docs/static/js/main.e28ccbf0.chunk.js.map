{"version":3,"sources":["redux/actionConstants.js","redux/storeConstants.js","redux/reducers/loginReducer.js","redux/reducers/viewReducer.js","redux/reducers/userReducer.js","redux/reducers/threadReducer.js","redux/store.js","redux/reducers/testReducer.js","redux/actions/viewActions.js","components/ThreadSnippet.js","components/ThreadList.js","components/Reply.js","fbConfig.js","redux/actions/threadActions.js","components/NewReply.js","components/ThreadComponent.js","redux/actions/loginActions.js","components/NewThread.js","components/SearchTags.js","components/Login.js","view/App.js","reportWebVitals.js","index.js"],"names":["LOGIN_SUCCESS","INVALID_LOGIN","LOGIN_NETWORK_ERROR","LOGOUT","READ_THREADS","ADD_REPLY","VIEW_LIST","VIEW_SINGLE","VIEW_LOGIN","LOGIN_STATE","VIEW_STATE","INITIAL_STATE","loginState","view","singleId","searchTags","rootReducer","combineReducers","loginReducer","state","action","type","viewReducer","payload","threadId","user","console","log","threads","mergedReplies","filter","thread","id","replies","reply","newState","map","testState","createStore","applyMiddleware","thunkMiddleware","showList","showLogin","ThreadSnippet","props","dispatch","useDispatch","parseTags","rawBody","parsedBody","split","word","index","charAt","className","href","value","onClick","rtn","push","pop","data-testid","title","author","body","length","substring","seconds","dateTime","Date","toLocaleDateString","year","month","day","toLocaleTimeString","timeZone","hourCycle","parseTimestamp","timestamp","ThreadList","useSelector","Reply","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","database","firestore","readThreads","readAllThreads","collection","get","then","querySnapshot","forEach","doc","data","sort","threadA","threadB","catch","error","readThreadByTag","where","createReply","update","FieldValue","arrayUnion","addReply","NewReply","useState","setBody","placeholder","onChange","e","target","htmlFor","newThread","now","postReply","disabled","ThreadComponent","aria-label","validateUser","username","password","size","docs","loginSuccess","NewThread","setTitle","tags","setTags","useEffect","newTags","postThread","store","getState","add","newThreads","concat","createThread","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","rows","SearchTags","stateSearchTags","search","setSearch","setSearchTags","tagString","submitSearch","searchAll","onKeyUp","event","keyCode","preventDefault","editingBegun","Login","setUsername","setPassword","handleLogin","clearForm","handleKeyPress","name","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e28ccbf0.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const INVALID_LOGIN = \"INVALID_LOGIN\";\nexport const LOGIN_NETWORK_ERROR = \"LOGIN_NETWORK_ERROR\";\nexport const LOGOUT = \"LOGOUT\";\nexport const READ_THREADS = \"READ_THREADS\";\nexport const ADD_REPLY = \"ADD_REPLY\";\nexport const VIEW_LIST = \"VIEW_LIST\";\nexport const VIEW_SINGLE = \"VIEW_SINGLE\";\nexport const VIEW_LOGIN = \"VIEW_LOGIN\";","export const LOGIN_STATE = {\n    LOGGED_IN: \"logged in\",\n    LOGGED_OUT: \"logged out\",\n    INVALID_LOGIN: \"invalid login\",\n    NETWORK_ERROR: \"network error\"\n};\n\nexport const VIEW_STATE = {\n    THREAD_LIST: \"thread_list\",\n    SINGLE_THREAD: \"single_thread\",\n    LOGIN: \"login\"\n};\n\nexport const INITIAL_STATE = {\n    loginState: LOGIN_STATE.LOGGED_OUT,\n    view: VIEW_STATE.THREAD_LIST,\n    user: -1,\n    threads: [],\n    singleId: \"\",\n    searchTags: [],\n    testState: false\n};\n\n// export const INITIAL_STATE = {\n//     loginState: LOGIN_STATE.LOGGED_IN,\n//     view: VIEW_STATE.THREAD_LIST,\n//     user: {\n//         id: \"ObjU6WstIoYloXphN590\",\n//         username: \"originator\",\n//         password: \"1234\"\n//     },\n//     threads: [],\n//     singleId: \"\",\n//     searchTags: []\n// }","import { LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, LOGOUT } from \"../actionConstants\";\nimport { LOGIN_STATE } from \"../storeConstants\";\n\nconst INITIAL_STATE = {\n    loginState: LOGIN_STATE.LOGGED_OUT\n};\n\nexport const loginReducer = (state=INITIAL_STATE, action) => {\n    switch (action.type) {\n        case LOGIN_SUCCESS:\n            return { loginState: LOGIN_STATE.LOGGED_IN }\n        case INVALID_LOGIN:\n            return {loginState: LOGIN_STATE.INVALID_LOGIN }\n        case LOGIN_NETWORK_ERROR:\n            return {loginState: LOGIN_STATE.NETWORK_ERROR }\n        case LOGOUT:\n            return {loginState: LOGIN_STATE.LOGGED_OUT }\n        default:\n            return state;\n    };\n};","import { VIEW_STATE } from \"../storeConstants\";\nimport { VIEW_LIST, VIEW_SINGLE, VIEW_LOGIN } from \"../actionConstants\";\n\nconst INITIAL_STATE = {\n    view: VIEW_STATE.THREAD_LIST,\n    singleId: \"\",\n    searchTags: []\n};\n\nexport const viewReducer  = (state=INITIAL_STATE, action) => {\n    switch (action.type) {\n        case VIEW_LIST:\n            return {\n                ...state,\n                view: VIEW_STATE.THREAD_LIST,\n                singleId: \"\",\n                searchTags: action.payload.searchTags \n            };\n        case VIEW_SINGLE:\n            return {\n                ...state, \n                view: VIEW_STATE.SINGLE_THREAD,\n                singleId: action.payload.threadId \n            };\n        case VIEW_LOGIN:\n            return {\n                ...state,\n                view: VIEW_STATE.LOGIN,\n            }\n        default:\n            return state;\n    };\n};","import { LOGIN_SUCCESS, LOGOUT } from \"../actionConstants\";\n\nconst INITIAL_STATE = {};\n\nexport const userReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case LOGIN_SUCCESS:\n            console.log(\"Reducer returning user\", action.payload.user)\n            return action.payload.user;\n        case LOGOUT:\n            return INITIAL_STATE;\n        default:\n            return state;\n    };\n};","import { READ_THREADS, ADD_REPLY } from \"../actionConstants\";\n\nconst INITIAL_STATE = [];\n\nexport const threadReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case READ_THREADS:\n            console.log(\"Setting threads in state\", action.payload.threads);\n            return [...action.payload.threads];\n        case ADD_REPLY:\n            const mergedReplies = [\n                ...state.filter(thread =>\n                    action.payload.threadId === thread.id\n                )[0].replies, \n                action.payload.reply\n            ];\n            const newState = state.map(thread => \n                thread.id === action.payload.threadId ? \n                    {\n                        ...thread,\n                        replies : mergedReplies\n                    }\n                    :\n                    thread\n            );\n            return newState;  \n        default:\n            return state;\n    };\n};","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { loginReducer } from \"./reducers/loginReducer\";\nimport { viewReducer } from \"./reducers/viewReducer\";\nimport { userReducer } from \"./reducers/userReducer\";\nimport { threadReducer } from \"./reducers/threadReducer\";\nimport { testReducer } from \"./reducers/testReducer\";\n\nexport const rootReducer = combineReducers({\n    loginReducer,\n    viewReducer,\n    user: userReducer,\n    threads: threadReducer,\n    testState: testReducer\n})\n\nexport default createStore(rootReducer, applyMiddleware(thunkMiddleware));","const INITIAL_STATE = false;\n\nexport const testReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        default:\n            return state;\n    };\n};","import { VIEW_LIST, VIEW_SINGLE, VIEW_LOGIN } from \"../actionConstants\";\n\nexport const showList = searchTags => ({\n    type: VIEW_LIST,\n    payload: {\n        searchTags\n    }\n});\n\nexport const showSingle = threadId => ({\n    type: VIEW_SINGLE,\n    payload: {\n        threadId\n    }\n});\n\nexport const showLogin = () => ({\n    type: VIEW_LOGIN\n});","import PropTypes from \"prop-types\";\nimport { useDispatch } from \"react-redux\";\nimport { showList, showSingle } from \"../redux/actions/viewActions\";\n\nconst ThreadSnippet = (props) => {\n    const dispatch = useDispatch();\n\n    const parseTimestamp = (seconds) => {\n        let dateTime = new Date(seconds);\n        // now we need to parse the time object into a string\n        let timeStamp = dateTime.toLocaleDateString(\"en-US\", { year: '2-digit', month: 'long', day: 'numeric' }) + \" at \" + dateTime.toLocaleTimeString(\"en-US\", {timeZone: 'America/New_York', hourCycle: 'h24'});\n        return timeStamp;\n    };\n\n    const parseTags = (rawBody) => {\n        //console.log(\"Raw body:\", rawBody);\n        let parsedBody =  rawBody.split(\" \").map((word, index) => \n            word.charAt(0) === \"#\" ?\n                <a className=\"tag\" href=\"#\" value={word} onClick={() => dispatch(showList(word))} key={index}>{word}</a>\n                :\n                word        \n        );\n        let rtn = [];\n        for(let word of parsedBody) {\n            rtn.push(word);\n            rtn.push(\" \");\n        }\n        rtn.pop();\n        return rtn;\n    };\n\n    const truncateBody = () => {\n        if (props.thread.body.length > 200) {\n            return parseTags(props.thread.body.substring(0,200) + \"...\");\n        } else {\n            return parseTags(props.thread.body);\n        }        \n    };\n\n    return (\n        <div className=\"list-group-item\" data-testid=\"thread-snippet-test\">\n            <a className=\"thread-title\" href=\"#\" onClick={() => dispatch(showSingle(props.thread.id))}><h3>{props.thread.title}</h3></a>\n            <p>Author: {props.thread.author}</p>\n            <p>{truncateBody()}</p>\n            <p>Posted: {parseTimestamp(props.thread.timestamp)}</p>\n        </div>\n    );\n};\n\nexport default ThreadSnippet;\n\nThreadSnippet.propTypes = {\n    thread: PropTypes.object.isRequired\n};","import { useSelector } from \"react-redux\";\nimport ThreadSnippet from \"./ThreadSnippet\";\n\nconst ThreadList = () => {\n    const threads = useSelector(state => state.threads);\n\n    return (\n        <>\n            {\n                threads.length > 0 ?\n                    threads.map((thread, index) => \n                        <ThreadSnippet key={index} thread={thread}/>\n                    )\n                    :\n                    <p>No threads to display.</p>\n            }\n            \n        </>\n    );\n};\n\nexport default ThreadList;","import PropTypes from \"prop-types\";\nimport { useDispatch } from \"react-redux\";\nimport { showList } from \"../redux/actions/viewActions\";\n\nconst Reply = (props) => {\n    const dispatch = useDispatch();\n\n    const parseTimestamp = (seconds) => {\n        let dateTime = new Date(seconds);\n        // now we need to parse the time object into a string\n        let timeStamp = dateTime.toLocaleDateString(\"en-US\", { year: '2-digit', month: 'long', day: 'numeric' }) + \" at \" + dateTime.toLocaleTimeString(\"en-US\", {timeZone: 'America/New_York', hourCycle: 'h24'});\n        return timeStamp;\n    };\n\n    const parseTags = (rawBody) => {\n        let parsedBody =  rawBody.split(\" \").map(word => \n            word.charAt(0) === \"#\" ?\n                <a className=\"tag\" href=\"#\" onClick={() => dispatch(showList(word))}>{word}</a>\n                :\n                word        \n        );\n        let rtn = [];\n        for(let word of parsedBody) {\n            rtn.push(word);\n            rtn.push(\" \");\n        }\n        rtn.pop();\n        return rtn;\n    };\n\n    return (\n        <div className=\"list-group-item\">\n            <p>Author: {props.reply.author}</p>\n            <p>{parseTags(props.reply.body)}</p>\n            <p>Replied: {parseTimestamp(props.reply.timestamp)}</p>\n        </div>\n    );\n};\n\nexport default Reply;\n\nReply.propTypes = {\n    reply: PropTypes.object.isRequired\n};","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDDYfwcl9nuD6NrGgToNatyDgcROdZb54w\",\n    authDomain: \"cs7580-a5-message-board.firebaseapp.com\",\n    projectId: \"cs7580-a5-message-board\",\n    storageBucket: \"cs7580-a5-message-board.appspot.com\",\n    messagingSenderId: \"575151180871\",\n    appId: \"1:575151180871:web:d7469bf4bfca3e2c927562\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;","import { READ_THREADS, ADD_REPLY } from \"../actionConstants\";\nimport store from \"../store\";\nimport firebase from \"../../fbConfig\";\n\nconst database = firebase.firestore();\n\nexport const readThreads = threads => ({\n    type: READ_THREADS,\n    payload: {\n        threads\n    }\n});\n\nexport const addReply = (threadId, reply) => ({\n    type: ADD_REPLY,\n    payload: {\n        threadId,\n        reply\n    }\n});\n\nexport const readAllThreads = () => {\n    console.log(\"Reading threads from server\");\n    return dispatch => {\n        database.collection(\"threads\").get()\n            .then(querySnapshot => {\n                let threads = [];\n                querySnapshot.forEach(doc => {\n                    threads.push({\n                        id: doc.id,\n                        ...doc.data()\n                    })\n                })\n                console.log(\"Threads retreved from server\", threads);\n                threads.sort((threadA, threadB) => threadA.timestamp - threadB.timestamp);\n                dispatch(readThreads(threads));\n            })\n            .catch(error => {\n                console.log(\"Login error\", error);\n                // dispatch(loginNetworkError());\n            });\n    };\n};\n\nexport const readThreadByID = (id) => {\n    console.log(\"Reading single thread from server\");\n    return dispatch => {\n        database.collection(\"threads\").where(\"id\", \"==\", id).get()\n            .then(querySnapshot => {\n                let threads = [];\n                querySnapshot.forEach(doc => {\n                    threads.push({\n                        id: doc.id,\n                        ...doc.data()\n                    })\n                })\n                console.log(\"Threads retreved from server\", threads);\n                threads.sort((threadA, threadB) => threadA.timestamp - threadB.timestamp);\n                dispatch(readThreads(threads));\n            })\n            .catch(error => {\n                console.log(\"Login error\", error);\n                // dispatch(loginNetworkError());\n            });\n    };\n};\n\nexport const readThreadByTag = (searchTags) => {\n    console.log(\"Reading thread tags from server\", searchTags);\n    return dispatch => {\n        database.collection(\"threads\").where(\"tags\", \"array-contains-any\", searchTags).get()\n            .then(querySnapshot => {\n                let threads = [];\n                querySnapshot.forEach(doc => {\n                    threads.push({\n                        id: doc.id,\n                        ...doc.data()\n                    });\n                });\n                console.log(\"Threads retreved from server\", threads);\n                threads.sort((threadA, threadB) => threadA.timestamp - threadB.timestamp);\n                dispatch(readThreads(threads));\n            })\n            .catch(error => {\n                console.log(\"Login error\", error);\n                // dispatch(loginNetworkError());\n            });\n    };\n};\n\nexport const createThread = (thread) => {\n    console.log(\"Posting thread to server\");\n    const threads = store.getState().threads;\n    return dispatch => {\n        database.collection(\"threads\")\n            .add(thread)\n            .then(newThread => {\n                let newThreads = threads.concat([{\n                    ...thread,\n                    id:  newThread.id\n                }])\n                console.log(\"Updated threads after add\", newThreads);\n                threads.sort((threadA, threadB) => threadA.timestamp - threadB.timestamp);\n                dispatch(readThreads(threads));\n            })\n            .catch(error => console.log(error));\n    };\n};\n\nexport const createReply = (threadId, reply) => {\n    return dispatch => {\n        console.log(\"Adding reply\", reply);\n        database.collection(\"threads\").doc(threadId)\n            .update({\n                replies : firebase.firestore.FieldValue.arrayUnion(reply)\n            })\n            .then(() => {\n                dispatch(addReply(threadId, reply));\n            })\n            .catch(error => {\n                console.log(\"Could not add the reply\");\n            });\n    };\n};","import PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createReply } from \"../redux/actions/threadActions\";\n\nconst NewReply = (props) => {\n    const [body, setBody] = useState(\"\");\n    const user = useSelector(state => state.user);\n    const dispatch = useDispatch();\n\n    const postReply = () => {\n        let newThread = {\n            author : user.id,\n            body : body,\n            timestamp : Date.now()\n        }\n        dispatch(createReply(props.threadId, newThread));\n        setBody(\"\");\n    };\n\n    return (\n        <>\n            <div className=\"form-floating mb-3\">\n                <textarea className=\"form-control\" placeholder=\"Reply\" id=\"newReplyBody\"\n                    value={body} onChange={e => setBody(e.target.value)}\n                />\n                <label htmlFor=\"newReplyBody\">Reply content</label>\n            </div>\n            <button className=\"btn btn-success\" onClick={() => postReply()} disabled={body === \"\" ? true : false}>Post</button>\n        </>\n    );\n};\n\nexport default NewReply;\n\nNewReply.propTypes = {\n    threadId: PropTypes.string.isRequired\n};","import { useSelector, useDispatch } from \"react-redux\";\nimport { LOGIN_STATE } from \"../redux/storeConstants\";\nimport { showList, showLogin } from \"../redux/actions/viewActions\"\n;\nimport Reply from \"./Reply\";\nimport NewReply from \"./NewReply\";\n\nconst ThreadComponent = () => {\n    const dispatch = useDispatch();\n    const loginState = useSelector(state => state.loginReducer.loginState);\n    const threads = useSelector(state => state.threads);\n    const threadId = useSelector(state => state.viewReducer.singleId);\n\n    const parseTimestamp = (seconds) => {\n        let dateTime = new Date(seconds);\n        // now we need to parse the time object into a string\n        let timeStamp = dateTime.toLocaleDateString(\"en-US\", { year: '2-digit', month: 'long', day: 'numeric' }) + \" at \" + dateTime.toLocaleTimeString(\"en-US\", {timeZone: 'America/New_York', hourCycle: 'h24'});\n        return timeStamp;\n    };\n\n    const parseTags = (rawBody) => {\n        let parsedBody =  rawBody.split(\" \").map((word, index) => \n            word.charAt(0) === \"#\" ?\n                <a className=\"tag\" href=\"#\" value={word} onClick={() => dispatch(showList(word))} key={index}>{word}</a>\n                :\n                word        \n        );\n        let rtn = [];\n        for(let word of parsedBody) {\n            rtn.push(word);\n            rtn.push(\" \");\n        }\n        rtn.pop();\n        return rtn;\n    };\n\n    return (\n        <>            \n            {\n                threads.filter(thread => threadId === thread.id).map((thread, index) => \n                    <div className=\"card card-body\" key={index}>\n                        <div className=\"list-group-flush\">\n                            <div className=\"list-group-item\">\n                                <div className=\"thread-title-box\">\n                                    <h3>{thread.title}</h3>\n                                    <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={() => dispatch(showList(\"\"))}/>\n                                </div>                                \n                                <p>Author: {thread.author}</p>\n                                <p>{parseTags(thread.body)}</p>\n                                <p>Posted: {parseTimestamp(thread.timestamp)}</p>\n                            </div>\n                            <div className=\"list-group-item\">\n                                {\n                                    loginState === LOGIN_STATE.LOGGED_IN ?\n                                        <NewReply threadId={thread.id}/>\n                                        :\n                                        <>\n                                            <p>Want to join the conversation? <button className=\"btn btn-success\" onClick={() => dispatch(showLogin())}>Log In</button></p>\n                                        </>\n                                }\n                            </div> \n                            {\n                                thread.replies.map((reply, index) =>\n                                    <Reply key={index} reply={reply} />\n                                )\n                            }\n                        </div>\n                    </div>\n                )\n            }\n        </>\n    );\n};\n\nexport default ThreadComponent;","import { LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, LOGOUT } from \"../actionConstants\";\nimport { showList } from \"./viewActions\";\nimport firebase from \"../../fbConfig\";\n\nconst database = firebase.firestore();\n\nexport const loginSuccess = user => ({\n    type: LOGIN_SUCCESS,\n    payload: {\n        user\n    }\n});\n\nexport const loginFail = () => ({\n    type: INVALID_LOGIN\n});\n\nexport const loginNetworkError = () => ({\n    type: LOGIN_NETWORK_ERROR\n});\n\nexport const logout = () => ({\n    type: LOGOUT\n});\n\nexport const validateUser = (username, password) => {\n    console.log(\"Calling validateUser\");\n    return dispatch => {\n        database.collection(\"users\").where(\"username\", \"==\", username).where(\"password\", \"==\", password)\n            .get()\n            .then(querySnapshot => {\n                if (querySnapshot.size === 1) {\n                    const doc = querySnapshot.docs[0];\n                    const user = {\n                        id: doc.id\n                    }\n                    console.log(\"Action user:\", user);\n                    dispatch(loginSuccess(user));\n                    dispatch(showList([]));\n                } else {\n                    console.log(\"Loginfail\");\n                    dispatch(loginFail());\n                }\n            })\n            .catch(error => {\n                console.log(\"Login error\", error);\n                dispatch(loginNetworkError());\n            });\n    };\n};","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createThread } from \"../redux/actions/threadActions\";\n\nconst NewThread = () => {\n    const [title, setTitle] = useState(\"\");\n    const [body, setBody] = useState(\"\");\n    const [tags, setTags] = useState([]);\n\n    const user = useSelector(state => state.user);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        let newTags = body.split(\" \").filter(word => word.charAt(0) === \"#\");\n        setTags(newTags);\n    }, [body]);\n\n    const postThread = () => {\n        let newThread = {\n            author : user.id,\n            body : body,\n            replies : [],\n            tags : tags,\n            timestamp : Date.now(),\n            title : title\n        }\n        dispatch(createThread(newThread));\n        setTitle(\"\");\n        setBody(\"\");\n        setTags([]);\n    };\n\n    return (\n        <div className=\"list-group-item\">\n            <button className=\"btn btn-primary start-thread-open\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#startThreadCollapse\" aria-expanded=\"false\" aria-controls=\"startThreadCollapse\">\n                Start a new thread\n            </button>\n            <div className=\"collapse mt-3\" id=\"startThreadCollapse\">\n                <div className=\"form-floating mb-3\">\n                    <input type=\"text\" className=\"form-control\" id=\"newThreadTitle\" placeholder=\"Thread title\"\n                        value={title} onChange={e => setTitle(e.target.value)}\n                    />\n                    <label htmlFor=\"newThreadTitle\">Thread title</label>\n                </div>\n                <div className=\"form-floating mb-3\">\n                    <textarea className=\"form-control\" placeholder=\"Thread content\" id=\"newThreadBody\"\n                        value={body} onChange={e => setBody(e.target.value)} rows=\"5\"\n                    />\n                    <label htmlFor=\"newThreadBody\">Thread content</label>\n                </div>\n                <button className=\"btn btn-success start-thread-submit\" onClick={() => postThread()} disabled={title === \"\" || body === \"\" ? true : false}>Post</button>\n            </div>\n        </div>\n    );\n};\n\nexport default NewThread;","import { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { LOGIN_STATE } from \"../redux/storeConstants\";\nimport { readAllThreads, readThreadByTag } from \"../redux/actions/threadActions\";\n\nconst SearchTags = () => {\n    const stateSearchTags = useSelector(state => state.viewReducer.searchTags);\n    const loginState = useSelector(state => state.loginReducer.loginState);\n    const testState = useSelector(state => state.testState);\n\n\n    const [search, setSearch] = useState(\"\");\n    console.log(\"Search now equals\", search);\n    const [searchTags, setSearchTags] = useState([]);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n            dispatch(readAllThreads());   \n    }, [dispatch]);\n\n    // useEffect(() => {\n    //     console.log(\"testState\", testState);\n    //     if (!testState) {\n    //         dispatch(readAllThreads());\n    //     }        \n    // }, [dispatch]);\n\n    // useEffect(() => {\n    //     if (loginState === LOGIN_STATE.LOGGED_IN) {\n    //         dispatch(readAllThreads());\n    //     }\n    // }, [loginState, dispatch]);\n\n    useEffect(() => {\n        if (search !== \"\") {\n            let newTags = search.split(\" \").map(word => word.charAt(0) !== \"#\" ? \"#\" + word : word);\n            setSearchTags(newTags);\n            console.log(\"Set new tags\", newTags);\n        }        \n    }, [search]);\n\n    useEffect(() => {\n        let tagString = \"\";\n        for(let tag of stateSearchTags) {\n            tagString = tagString + tag + \"\";\n        };\n        if (tagString !== \"\") {\n            setSearch(tagString);\n            let newTags = tagString.split(\" \").map(word => word.charAt(0) !== \"#\" ? \"#\" + word : word);\n            setSearchTags(newTags);\n            dispatch(readThreadByTag(newTags));\n        }\n    }, [stateSearchTags, dispatch])\n\n    const submitSearch = () => {\n        if (search === \"\") {\n            searchAll();\n        } else {\n            dispatch(readThreadByTag(searchTags));\n        }        \n    };\n\n    const searchAll = () => {\n        setSearch(\"\");\n        dispatch(readAllThreads());\n    };\n\n    const handleKeyPress = event => {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            submitSearch();\n        }\n    };\n\n    return (\n        <>\n            <div className=\"form-floating input-group mb-3\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"Search by tags\" id=\"tagSearch\"\n                    value={search} onChange={e => setSearch(e.target.value)} onKeyUp={e => handleKeyPress(e)}\n                />\n                <label htmlFor=\"tagSearch\">Search threads by tag</label>\n                {\n                    search !== \"\" ?\n                        <button className=\"btn btn-outline-secondary\" onClick={() => searchAll()}>X</button>\n                        :\n                        <></>\n                }                \n                <button className=\"btn btn-outline-success\" onClick={() => submitSearch()}>Search</button>\n            </div>            \n        </>\n    );\n};\n\nexport default SearchTags;","import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { validateUser } from \"../redux/actions/loginActions\";\nimport { LOGIN_STATE } from \"../redux/storeConstants\";\n\nlet editingBegun = false;\n\n// Predominantly borrowed from demo to-do list code (Northeastern University CS7580 Lab 8)\nconst Login = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const loginState = useSelector(state => state.loginState);\n\n    const dispatch = useDispatch();\n\n    const handleLogin = () => {\n        dispatch(validateUser(username, password));\n        clearForm();\n    }\n\n    const handleKeyPress = event => {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            handleLogin();\n        }\n    }\n\n    const clearForm = () => {\n        editingBegun = false;\n        setUsername(\"\");\n        setPassword(\"\");\n    }\n\n    return (\n        <div className=\"container\">\n            {\n                !editingBegun && loginState === LOGIN_STATE.INVALID_LOGIN &&\n                    <div className=\"alert alert-danger\">Invalid username / password! Please try again.</div>\n            }\n            {\n                !editingBegun && loginState === LOGIN_STATE.NETWORK_ERROR &&\n                    <div className=\"alert alert-danger\">Unable to connect to the server. Please check your internet connection.</div>\n            }\n            <div className=\"row my-4 add-form\">\n                <div className=\"col-12 col-sm-2\">\n                    <label htmlFor=\"username\" className=\"form-label\">Username:</label>\n                </div>\n                <div className=\"col\">\n                    <input type=\"text\" id=\"username\" name=\"username\" \n                        className=\"form-control\"\n                        value={username} onChange={e => {\n                            editingBegun = true;\n                            setUsername(e.target.value);\n                            }}\n                            onKeyUp={e => handleKeyPress(e)}\n                            />\n                </div>\n            </div>\n            <div className=\"row my-4 add-form\">\n                <div className=\"col-12 col-sm-2\">\n                    <label htmlFor=\"password\" className=\"form-label\">Password:</label>\n                </div>\n                <div className=\"col\">\n                    <input type=\"password\" id=\"password\" name=\"password\"\n                        className=\"form-control\"\n                        value={password} onChange={e => {\n                                editingBegun = true;\n                                setPassword(e.target.value);\n                        }}\n                        onKeyUp={e => handleKeyPress(e)}\n                            />\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"col\">\n                    <button className=\"btn btn-secondary float-end login-button\" onClick={handleLogin}>\n                        Log in\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ThreadList from '../components/ThreadList';\nimport ThreadComponent from \"../components/ThreadComponent\";\nimport { LOGIN_STATE, VIEW_STATE } from \"../redux/storeConstants\";\nimport { showLogin } from \"../redux/actions/viewActions\"\nimport { validateUser, logout } from \"../redux/actions/loginActions\";\nimport NewThread from \"../components/NewThread\";\nimport SearchTags from \"../components/SearchTags\";\nimport Login from \"../components/Login\";\n\nfunction App() {\n    const dispatch = useDispatch();\n    const loginState = useSelector(state => state.loginReducer.loginState);\n    const user = useSelector(state => state.user);\n    const view = useSelector(state => state.viewReducer.view);\n\n    // useEffect(() => {\n    //     console.log(\"loginState\", loginState);\n    //     if (loginState === LOGIN_STATE.LOGGED_IN) {\n    //         dispatch(validateUser(\"originator\", \"1234\"));\n    //     }\n    // }, [loginState]);\n\n    // useEffect(() => {\n    //     dispatch(validateUser(\"originator\", \"1234\"));\n    // }, []);\n\n    return (\n        <div className=\"App container\">\n            {console.log(\"loginState equals\", loginState)}\n            {console.log(\"User equals\", user)}\n            {/* <p>hi { user !== null && user !== undefined ? user.id : \"\" }</p> */} \n            {\n                view === VIEW_STATE.LOGIN ?\n                    <Login />\n                    :\n                    <>\n                        <nav className=\"navbar\">{\n                            loginState !== LOGIN_STATE.LOGGED_IN ?\n                                <button className=\"btn btn-success heading-button\" onClick={() => dispatch(showLogin())}>Log In</button>\n                                :\n                                <button className=\"btn btn-secondary heading-button\" onClick={() => dispatch(logout())}>Log Out</button>\n                        }</nav>\n                        {\n                            view === VIEW_STATE.THREAD_LIST ?\n                                <>\n                                    <SearchTags />\n                                    <div className=\"card card-body list-group-flush\">\n                                        {\n                                            loginState === LOGIN_STATE.LOGGED_IN ?\n                                                <NewThread />\n                                                :\n                                                <div className=\"list-group-item\">\n                                                    <p>Want to join the conversation? <button className=\"btn btn-success\" onClick={() => dispatch(showLogin())}>Log In</button></p>\n                                                </div>\n                                        }\n                                        <ThreadList />\n                                    </div>                        \n                                </>                    \n                                :\n                                <>{\n                                    view === VIEW_STATE.SINGLE_THREAD ?\n                                        <ThreadComponent />\n                                        :\n                                        <p>Error: view set to {view}</p>                            \n                                }</>\n                        }\n                    </>\n            }            \n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from \"react-redux\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport bootstrap from 'bootstrap';\nimport store from \"./redux/store\";\nimport './styles/styles.css';\nimport './styles/index.css';\nimport App from './view/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>    \n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}